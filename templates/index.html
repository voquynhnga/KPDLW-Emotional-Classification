<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ph√¢n t√≠ch & So s√°nh ƒê√°nh gi√° S·∫£n ph·∫©m</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Ph√¢n t√≠ch & So s√°nh ƒê√°nh gi√° S·∫£n ph·∫©m</h1>
        </div>

        <div class="input-section">
            <div class="mode-toggle">
                <button id="singleModeBtn" class="mode-btn active" onclick="setMode('single')">Ph√¢n t√≠ch 1 s·∫£n ph·∫©m</button>
                <button id="compareModeBtn" class="mode-btn" onclick="setMode('compare')">So s√°nh 2 s·∫£n ph·∫©m</button>
            </div>

            <div id="productInputs">
                <div class="input-group product-input-group" id="product1Group">
                    <label for="productUrl1" id="productUrl1Label">üîó Link s·∫£n ph·∫©m (ƒêi·ªán m√°y xanh ho·∫∑c Tiki):</label>
                    <input type="url" id="productUrl1" class="url-input" placeholder="D√°n link s·∫£n ph·∫©m v√†o ƒë√¢y" />
                </div>
                <div class="input-group product-input-group" id="product2Group" style="display: none;">
                    <label for="productUrl2">üîó Link s·∫£n ph·∫©m 2 (ƒêi·ªán m√°y xanh ho·∫∑c Tiki):</label>
                    <input type="url" id="productUrl2" class="url-input" placeholder="D√°n link s·∫£n ph·∫©m th·ª© hai ƒë·ªÉ so s√°nh" />
                </div>
            </div>

            <button id="analyzeBtn" class="analyze-btn" onclick="startAnalysis()">
                Ph√¢n t√≠ch
            </button>
        </div>

        <div id="loading" class="loading">
            <div class="loading-spinner"></div>
            ƒêang thu th·∫≠p v√† ph√¢n t√≠ch ƒë√°nh gi√°...
        </div>

        <div id="errorSection" class="error-section"></div>

        <div id="resultsContainer">
            <div id="resultsSection1" class="results-section product-results">
                <h2 class="product-title" id="productTitle1">K·∫øt qu·∫£ Ph√¢n t√≠ch</h2>
                <div class="overview-grid">
                    <div class="stats-card">
                        <h3>Bi·ªÉu ƒë·ªì ƒë√°nh gi√°</h3>
                        <div class="chart-container">
                            <canvas id="sentimentChart1"></canvas>
                        </div>
                    </div>
                </div>
                <div id="commentsSection1" class="comments-section"></div>
                <div class="recommendation-card">
                    <div id="recommendationResult1" class="recommendation-result"></div>
                    <div id="recommendationReason1" class="recommendation-reason"></div>
                </div>
            </div>

            <div id="resultsSection2" class="results-section product-results" style="display: none;">
                <h2 class="product-title" id="productTitle2">K·∫øt qu·∫£ cho S·∫£n ph·∫©m 2</h2>
                <div class="overview-grid">
                    <div class="stats-card">
                        <h3>Bi·ªÉu ƒë·ªì ƒë√°nh gi√°</h3>
                        <div class="chart-container">
                            <canvas id="sentimentChart2"></canvas>
                        </div>
                    </div>
                </div>
                <div id="commentsSection2" class="comments-section"></div>
                <div class="recommendation-card">
                    <div id="recommendationResult2" class="recommendation-result"></div>
                    <div id="recommendationReason2" class="recommendation-reason"></div>
                </div>
            </div>
        </div>

        <div id="comparisonSection" class="comparison-section results-section" style="display: none;">
            <h2>So s√°nh v√† G·ª£i √Ω</h2>
            <div id="comparisonResultText" class="comparison-text"></div>
            <div class="comparison-details">
                <div class="comparison-item">
                    <h4>S·∫£n ph·∫©m 1</h4>
                    <p id="comparisonProd1Stats"></p>
                </div>
                <div class="comparison-item">
                    <h4>S·∫£n ph·∫©m 2</h4>
                    <p id="comparisonProd2Stats"></p>
                </div>
            </div>
        </div>

    </div>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>